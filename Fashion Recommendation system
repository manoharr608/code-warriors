<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Fashion Stylist · Groq · Color Visualization</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background: linear-gradient(145deg, #f9f7f4 0%, #f0ece6 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
        }

        .stylist-card {
            max-width: 1400px;
            width: 100%;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 3rem 3rem 2rem 2rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), inset 0 1px 2px rgba(255,255,255,0.8);
            border: 1px solid rgba(255, 255, 255, 0.5);
            overflow: hidden;
        }

        .hero {
            background: #1a1c1e;
            padding: 2rem 2.5rem 1.8rem 2.5rem;
            color: white;
            border-bottom: 4px solid #c7a86b;
        }

        .hero-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .groq-badge {
            background: #c7a86b;
            color: #1a1c1e;
            font-weight: 700;
            font-size: 1.2rem;
            padding: 0.3rem 1rem;
            border-radius: 40px;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(199,168,107,0.4);
        }

        .logo-area i {
            font-size: 2.2rem;
            color: #c7a86b;
        }

        .tagline {
            font-size: 1.1rem;
            opacity: 0.8;
            font-weight: 300;
            max-width: 500px;
            border-left: 2px solid #3e3a36;
            padding-left: 1.2rem;
        }

        .weather-mood {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            background: rgba(255,255,255,0.03);
            border-radius: 60px;
            padding: 0.8rem 1.8rem;
            align-items: center;
        }

        .weather-mood span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .weather-mood i {
            color: #c7a86b;
            font-size: 1.2rem;
        }

        .main-panel {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
        }

        .input-panel {
            flex: 1 1 380px;
            padding: 2rem 2rem 2rem 2.5rem;
            background: #ffffffd9;
            backdrop-filter: blur(4px);
            border-right: 1px solid #e2dbd1;
        }

        .result-panel {
            flex: 2 1 680px;
            padding: 2rem 2.5rem 2rem 2.5rem;
            background: #faf7f2d2;
            display: flex;
            flex-direction: column;
        }

        h2 {
            font-size: 1.6rem;
            font-weight: 600;
            letter-spacing: -0.02em;
            color: #1e1b18;
            margin-bottom: 0.4rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        h2 i {
            color: #c7a86b;
            font-size: 1.8rem;
        }

        .input-group {
            margin: 2rem 0 1.8rem 0;
        }

        .input-row {
            margin-bottom: 1.5rem;
        }

        label {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            font-weight: 600;
            color: #4b4440;
            display: block;
            margin-bottom: 0.3rem;
        }

        select, textarea, input {
            width: 100%;
            background: white;
            border: 1.5px solid #e1d9d0;
            border-radius: 24px;
            padding: 0.9rem 1.4rem;
            font-size: 1rem;
            outline: none;
            transition: all 0.15s;
            color: #1f1c19;
            resize: vertical;
            font-weight: 400;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
        }

        select {
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="%235f5b57" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>');
            background-repeat: no-repeat;
            background-position: right 1.2rem center;
            background-size: 1.2rem;
        }

        select:focus, textarea:focus, input:focus {
            border-color: #b38f5a;
            box-shadow: 0 0 0 4px #f0e3d3;
        }

        textarea {
            min-height: 100px;
        }

        .gender-selector {
            display: flex;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .gender-option {
            flex: 1;
            background: white;
            border: 2px solid #e1d9d0;
            border-radius: 60px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-weight: 600;
        }

        .gender-option i {
            font-size: 1.4rem;
            color: #b38f5a;
        }

        .gender-option.active {
            background: #1a1c1e;
            border-color: #c7a86b;
            color: white;
        }

        .gender-option.active i {
            color: #c7a86b;
        }

        .feature-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.6rem;
            margin: 1rem 0 2rem 0;
        }

        .tag {
            background: white;
            border: 1px solid #d8cfc4;
            border-radius: 40px;
            padding: 0.4rem 1.2rem;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            color: #3b3530;
            cursor: pointer;
            transition: 0.1s;
            box-shadow: 0 1px 2px rgba(0,0,0,0.02);
        }

        .tag i {
            color: #b38f5a;
            font-size: 0.8rem;
        }

        .tag.active {
            background: #1a1c1e;
            border-color: #1a1c1e;
            color: white;
        }

        .tag.active i {
            color: #c7a86b;
        }

        .btn-primary {
            background: #1a1c1e;
            border: none;
            border-radius: 40px;
            padding: 1rem 2rem;
            font-size: 1.2rem;
            font-weight: 600;
            color: white;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.7rem;
            width: 100%;
            cursor: pointer;
            transition: 0.15s;
            box-shadow: 0 8px 18px -6px rgba(0,0,0,0.3);
            border: 1px solid #3e3a36;
        }

        .btn-primary i {
            color: #c7a86b;
            font-size: 1.4rem;
        }

        .btn-primary:hover {
            background: #2f2c29;
            transform: scale(1.01);
            border-color: #c7a86b;
        }

        .btn-primary:disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        .powered {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin: 1.2rem 0 0.5rem 0;
            color: #706a63;
            font-size: 0.9rem;
            border-top: 1px dashed #d9d0c6;
            padding-top: 1.2rem;
        }

        .result-header {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            border-bottom: 2px solid #e2d8cd;
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
        }

        .result-header h3 {
            font-size: 1.4rem;
            font-weight: 500;
            color: #2d2823;
        }

        .result-header i {
            color: #c7a86b;
            font-size: 2rem;
        }

        .outfit-card {
            background: white;
            border-radius: 2rem;
            padding: 1.8rem 2rem;
            box-shadow: 0 15px 30px -12px rgba(70, 50, 30, 0.15);
            border: 1px solid #ece3d9;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .outfit-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1a1c1e;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            margin-bottom: 1rem;
        }

        .badge-groq {
            background: #c7a86b20;
            border-radius: 100px;
            padding: 0.3rem 1rem;
            font-size: 0.75rem;
            font-weight: 600;
            color: #7e623b;
            letter-spacing: 0.5px;
            border: 1px solid #c7a86b40;
        }

        .recommendation-text {
            font-size: 1.05rem;
            line-height: 1.6;
            color: #25211d;
            white-space: pre-wrap;
            margin: 1rem 0;
        }

        /* Clothing grid with colors */
        .clothing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1.2rem;
            margin: 1.5rem 0;
        }

        .clothing-item {
            background: #fcf9f5;
            border-radius: 20px;
            padding: 1.2rem 1rem;
            text-align: center;
            border: 1px solid #ece3d9;
            transition: transform 0.2s;
        }

        .clothing-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 20px -10px rgba(0,0,0,0.15);
        }

        .clothing-image {
            width: 100%;
            height: 140px;
            border-radius: 16px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            position: relative;
            overflow: hidden;
            transition: all 0.2s;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .clothing-image i {
            font-size: 4rem;
            filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.2));
            z-index: 2;
        }

        .color-indicator {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            background: rgba(0,0,0,0.5);
            color: white;
            backdrop-filter: blur(4px);
        }

        .clothing-name {
            font-weight: 600;
            font-size: 1rem;
            color: #2d2823;
            margin-bottom: 0.3rem;
        }

        .clothing-category {
            font-size: 0.75rem;
            color: #8b8076;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .vibe-tag {
            background: #f4eee7;
            border-radius: 30px;
            padding: 0.5rem 1.5rem;
            display: inline-block;
            font-size: 0.9rem;
            font-weight: 500;
            color: #4e443d;
            margin-right: 0.6rem;
            margin-bottom: 0.5rem;
            border: 1px solid #ded3c7;
        }

        .loading-spinner {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            padding: 3rem;
            color: #5f554b;
        }

        .loading-spinner i {
            font-size: 2rem;
            color: #c7a86b;
        }

        .footer-note {
            font-size: 0.8rem;
            color: #948c83;
            margin-top: 1rem;
            text-align: center;
        }

        hr {
            border: none;
            border-top: 1px solid #e4dbd1;
            margin: 1.2rem 0;
        }

        .initial-message {
            color: #948c83;
            text-align: center;
            padding: 3rem 1rem;
        }
        .initial-message i {
            font-size: 4rem;
            color: #dccfc2;
            margin-bottom: 1rem;
        }

        .demo-badge {
            background: #c7a86b;
            color: #1a1c1e;
            padding: 0.5rem 1rem;
            border-radius: 40px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 1rem;
            text-align: center;
        }

        .color-palette {
            display: flex;
            gap: 0.3rem;
            justify-content: center;
            margin-top: 0.5rem;
        }

        .color-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.3);
        }

        @media (max-width: 800px) {
            .input-panel { border-right: none; }
            .clothing-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <div class="stylist-card">
        <div class="hero">
            <div class="hero-top">
                <div class="logo-area">
                    <i class="fas fa-vest"></i>
                    <span class="groq-badge">GROQ AI</span>
                    <span style="font-weight: 300; margin-left: 0.5rem;">color stylist</span>
                </div>
                <div class="weather-mood">
                    <span><i class="fas fa-cloud-sun"></i> <span id="weatherDisplay">18°C · mild</span></span>
                    <span><i class="fas fa-palette"></i> <span id="seasonDisplay">color match</span></span>
                </div>
            </div>
            <div class="tagline">
                <i class="fas fa-quote-left" style="opacity:0.5; margin-right:6px;"></i>See your outfit in living color.
            </div>
        </div>

        <div class="main-panel">
            <div class="input-panel">
                <h2><i class="fas fa-pen-fancy"></i> style preferences</h2>
                
                <div class="demo-badge">
                    <i class="fas fa-info-circle"></i> DEMO MODE · Color visualization
                </div>
                
                <!-- Gender Selection -->
                <label><i class="fas fa-venus-mars"></i> GENDER</label>
                <div class="gender-selector">
                    <div class="gender-option active" id="genderMale" data-gender="male">
                        <i class="fas fa-mars"></i> Male
                    </div>
                    <div class="gender-option" id="genderFemale" data-gender="female">
                        <i class="fas fa-venus"></i> Female
                    </div>
                </div>
                
                <div class="input-group">
                    <div class="input-row">
                        <label><i class="far fa-user"></i> occasion</label>
                        <select id="occasionSelect">
                            <option value="casual weekend">casual weekend</option>
                            <option value="business meeting" selected>business meeting</option>
                            <option value="date night">date night</option>
                            <option value="garden party">garden party</option>
                            <option value="workout">workout / athleisure</option>
                            <option value="formal gala">formal gala</option>
                        </select>
                    </div>
                    <div class="input-row">
                        <label><i class="far fa-thermometer-half"></i> weather / season</label>
                        <select id="weatherSelect">
                            <option value="mild spring">mild spring</option>
                            <option value="chilly autumn" selected>chilly autumn</option>
                            <option value="hot summer">hot summer</option>
                            <option value="cold winter">cold winter</option>
                            <option value="rainy">rainy / wet</option>
                        </select>
                    </div>
                    <div class="input-row">
                        <label><i class="fas fa-palette"></i> color preferences</label>
                        <textarea id="detailsInput" placeholder="e.g., earth tones, pastels, monochrome, bold colors...">earth tones, warm neutrals, forest greens</textarea>
                    </div>
                </div>

                <label style="margin-bottom: 10px;"><i class="fas fa-tags"></i> style vibe</label>
                <div class="feature-tags" id="vibeTags">
                    <span class="tag" data-vibe="minimalist"><i class="fas fa-circle"></i> minimalist</span>
                    <span class="tag active" data-vibe="layered"><i class="fas fa-circle"></i> layered</span>
                    <span class="tag" data-vibe="bold patterns"><i class="fas fa-circle"></i> bold patterns</span>
                    <span class="tag" data-vibe="monochrome"><i class="fas fa-circle"></i> monochrome</span>
                    <span class="tag" data-vibe="retro"><i class="fas fa-circle"></i> retro</span>
                </div>

                <button class="btn-primary" id="generateBtn">
                    <i class="fas fa-wand-magic-sparkles"></i> GENERATE COLOR OUTFIT
                </button>
                
                <div class="powered">
                    <i class="fas fa-bolt" style="color:#c7a86b;"></i> Color visualization · Demo
                </div>
            </div>

            <div class="result-panel" id="resultPanel">
                <div class="result-header">
                    <i class="fas fa-palette"></i>
                    <h3>your color-coordinated outfit</h3>
                </div>
                
                <div class="outfit-card" id="outfitCard">
                    <div id="initialMessage" class="initial-message">
                        <i class="fas fa-palette"></i>
                        <p>Select your preferences and click generate.<br>See outfit suggestions with actual colors!</p>
                        <p style="font-size:0.9rem; margin-top:1.5rem; color:#b38f5a;">
                            <i class="fas fa-mars"></i> <i class="fas fa-venus"></i> Male & Female styles with color visualization
                        </p>
                    </div>

                    <div id="aiOutputContainer" style="display: none;">
                        <div class="outfit-title">
                            <i class="fas fa-star" style="color:#c7a86b;"></i> 
                            <span id="outfitTitle">Stylist Suggestion</span>
                            <span class="badge-groq"><i class="fas fa-gauge-high"></i> color match</span>
                        </div>
                        <div id="aiRecommendation" class="recommendation-text"></div>
                        
                        <!-- Clothing Grid with Colors -->
                        <div id="clothingGrid" class="clothing-grid"></div>
                        
                        <hr>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;" id="vibeOutputTags"></div>
                        <div id="extraNote" style="margin-top: 1rem; font-style: italic; color: #6d6258;"></div>
                    </div>

                    <div class="loading-spinner" id="loadingSpinner">
                        <i class="fas fa-circle-notch fa-spin"></i> Mixing colors...
                    </div>
                </div>
                
                <div class="footer-note">
                    <i class="far fa-clock"></i> demo version · each item shows its actual color
                </div>
            </div>
        </div>
    </div>

    <script>
        (function() {
            // DOM Elements
            const occasionEl = document.getElementById('occasionSelect');
            const weatherEl = document.getElementById('weatherSelect');
            const detailsEl = document.getElementById('detailsInput');
            const vibeTagEls = document.querySelectorAll('.tag');
            const genderMale = document.getElementById('genderMale');
            const genderFemale = document.getElementById('genderFemale');
            const generateBtn = document.getElementById('generateBtn');
            const aiOutputContainer = document.getElementById('aiOutputContainer');
            const initialMessage = document.getElementById('initialMessage');
            const aiRecommendation = document.getElementById('aiRecommendation');
            const outfitTitle = document.getElementById('outfitTitle');
            const clothingGrid = document.getElementById('clothingGrid');
            const extraNote = document.getElementById('extraNote');
            const vibeOutputTags = document.getElementById('vibeOutputTags');
            const loadingSpinner = document.getElementById('loadingSpinner');
            
            const weatherDisplay = document.getElementById('weatherDisplay');
            const seasonDisplay = document.getElementById('seasonDisplay');

            let selectedVibes = ['layered'];
            let selectedGender = 'male';

            // Gender selection
            genderMale.addEventListener('click', () => {
                genderMale.classList.add('active');
                genderFemale.classList.remove('active');
                selectedGender = 'male';
            });
            
            genderFemale.addEventListener('click', () => {
                genderFemale.classList.add('active');
                genderMale.classList.remove('active');
                selectedGender = 'female';
            });

            // Update weather display
            function updateWeatherDisplay() {
                const weather = weatherEl.value;
                if (weather.includes('chilly')) {
                    weatherDisplay.textContent = '12°C · chilly';
                    seasonDisplay.textContent = 'warm tones';
                } else if (weather.includes('cold')) {
                    weatherDisplay.textContent = '2°C · cold';
                    seasonDisplay.textContent = 'deep colors';
                } else if (weather.includes('hot')) {
                    weatherDisplay.textContent = '28°C · hot';
                    seasonDisplay.textContent = 'light colors';
                } else if (weather.includes('rainy')) {
                    weatherDisplay.textContent = '15°C · rainy';
                    seasonDisplay.textContent = 'moody hues';
                } else {
                    weatherDisplay.textContent = '18°C · mild';
                    seasonDisplay.textContent = 'fresh tones';
                }
            }

            // Tag click handlers
            vibeTagEls.forEach(tag => {
                tag.addEventListener('click', function(e) {
                    const vibe = this.dataset.vibe;
                    if (this.classList.contains('active')) {
                        this.classList.remove('active');
                        selectedVibes = selectedVibes.filter(v => v !== vibe);
                    } else {
                        this.classList.add('active');
                        selectedVibes.push(vibe);
                    }
                });
            });

            weatherEl.addEventListener('change', updateWeatherDisplay);
            occasionEl.addEventListener('change', updateWeatherDisplay);
            updateWeatherDisplay();

            // Color palette generator
            function getColorForItem(itemName, index, gender, weather) {
                const colors = {
                    // Neutrals
                    navy: '#0a1928',
                    charcoal: '#36454F',
                    black: '#1E1E1E',
                    grey: '#808080',
                    beige: '#F5F5DC',
                    cream: '#FFFDD0',
                    tan: '#D2B48C',
                    brown: '#8B4513',
                    
                    // Earth tones
                    olive: '#556B2F',
                    forest: '#228B22',
                    moss: '#8A9A5B',
                    rust: '#B7410E',
                    terracotta: '#E2725B',
                    camel: '#C19A6B',
                    
                    // Blues
                    royal: '#4169E1',
                    sky: '#87CEEB',
                    denim: '#1560BD',
                    
                    // Accents
                    burgundy: '#800020',
                    maroon: '#800000',
                    emerald: '#50C878',
                    plum: '#673147',
                    
                    // Women's colors
                    blush: '#FADADD',
                    lavender: '#E6E6FA',
                    mauve: '#E0B0FF',
                    sage: '#BCB88A',
                    coral: '#FF7F50',
                    rose: '#FF007F',
                    
                    // Brights
                    red: '#FF0000',
                    yellow: '#FFD700',
                    white: '#FFFFFF'
                };
                
                const item = itemName.toLowerCase();
                const weatherType = weather.toLowerCase();
                
                // Weather-based color adjustments
                if (weatherType.includes('chilly') || weatherType.includes('autumn')) {
                    if (index % 3 === 0) return colors.rust;
                    if (index % 3 === 1) return colors.olive;
                    if (index % 3 === 2) return colors.camel;
                }
                
                if (weatherType.includes('cold') || weatherType.includes('winter')) {
                    if (index % 3 === 0) return colors.charcoal;
                    if (index % 3 === 1) return colors.navy;
                    if (index % 3 === 2) return colors.burgundy;
                }
                
                if (weatherType.includes('hot') || weatherType.includes('summer')) {
                    if (index % 3 === 0) return colors.beige;
                    if (index % 3 === 1) return colors.sky;
                    if (index % 3 === 2) return colors.coral;
                }
                
                if (weatherType.includes('rainy')) {
                    if (index % 3 === 0) return colors.plum;
                    if (index % 3 === 1) return colors.forest;
                    if (index % 3 === 2) return colors.grey;
                }
                
                // Gender and item-specific colors
                if (gender === 'male') {
                    if (item.includes('blazer') || item.includes('suit')) return colors.navy;
                    if (item.includes('shirt') && item.includes('oxford')) return colors.white;
                    if (item.includes('jeans')) return colors.denim;
                    if (item.includes('trousers') || item.includes('pants')) return colors.charcoal;
                    if (item.includes('sweater') || item.includes('jumper')) return colors.forest;
                    if (item.includes('jacket') && item.includes('leather')) return colors.brown;
                    if (item.includes('shoe') || item.includes('boot')) return colors.brown;
                    if (item.includes('tie')) return colors.burgundy;
                } else {
                    if (item.includes('dress') && item.includes('silk')) return colors.blush;
                    if (item.includes('dress') && item.includes('floral')) return colors.mauve;
                    if (item.includes('blouse')) return colors.lavender;
                    if (item.includes('skirt')) return colors.sage;
                    if (item.includes('jacket') && item.includes('leather')) return colors.tan;
                    if (item.includes('heels') || item.includes('pumps')) return colors.rose;
                    if (item.includes('bag') || item.includes('clutch')) return colors.camel;
                    if (item.includes('earrings') || item.includes('necklace')) return colors.gold || '#FFD700';
                }
                
                // Default color cycle
                const defaultColors = [colors.navy, colors.charcoal, colors.forest, colors.burgundy, colors.camel];
                return defaultColors[index % defaultColors.length];
            }

            // Get icon for clothing item
            function getIconForItem(itemName) {
                const item = itemName.toLowerCase();
                
                if (item.includes('blazer') || item.includes('jacket') || item.includes('suit')) return 'fa-solid fa-user-tie';
                if (item.includes('shirt') || item.includes('oxford')) return 'fa-solid fa-shirt';
                if (item.includes('t-shirt') || item.includes('tee')) return 'fa-solid fa-tshirt';
                if (item.includes('sweater') || item.includes('jumper') || item.includes('hoodie')) return 'fa-solid fa-vest';
                if (item.includes('jeans') || item.includes('trousers') || item.includes('pants')) return 'fa-solid fa-vest';
                if (item.includes('skirt')) return 'fa-solid fa-vest';
                if (item.includes('dress')) return 'fa-solid fa-vest';
                if (item.includes('shoe') || item.includes('sneaker') || item.includes('boot')) return 'fa-solid fa-shoe-prints';
                if (item.includes('heels') || item.includes('pumps')) return 'fa-solid fa-shoe-prints';
                if (item.includes('watch')) return 'fa-solid fa-clock';
                if (item.includes('hat') || item.includes('cap')) return 'fa-solid fa-hat-cowboy';
                if (item.includes('bag') || item.includes('purse') || item.includes('clutch') || item.includes('tote')) return 'fa-solid fa-bag-shopping';
                if (item.includes('tie')) return 'fa-solid fa-tag';
                if (item.includes('earring') || item.includes('necklace') || item.includes('bracelet')) return 'fa-solid fa-gem';
                if (item.includes('scarf')) return 'fa-solid fa-scarf';
                if (item.includes('sunglasses')) return 'fa-solid fa-glasses';
                
                return 'fa-solid fa-vest';
            }

            // Generate outfit with colors
            function generateOutfit() {
                const occasion = occasionEl.value;
                const weather = weatherEl.value;
                const colorPref = detailsEl.value.trim();
                
                // Male outfits with specific colors
                const maleOutfits = {
                    'business meeting': {
                        title: 'The Executive · Navy & Charcoal',
                        description: 'Power dressing with sophisticated color blocking. Navy and charcoal create authority while staying modern.',
                        items: [
                            { name: 'Navy Wool Blazer', category: 'Outerwear' },
                            { name: 'White Oxford Shirt', category: 'Shirt' },
                            { name: 'Charcoal Trousers', category: 'Bottoms' },
                            { name: 'Brown Leather Oxfords', category: 'Shoes' },
                            { name: 'Burgundy Silk Tie', category: 'Accessory' }
                        ],
                        footnote: 'The burgundy tie adds a subtle pop of color and personality.'
                    },
                    'date night': {
                        title: 'Refined Romance · Forest & Tan',
                        description: 'Earthy and approachable. Forest green brings depth while tan leather keeps it warm.',
                        items: [
                            { name: 'Dark Wash Jeans', category: 'Bottoms' },
                            { name: 'Forest Green Cashmere Sweater', category: 'Knitwear' },
                            { name: 'Tan Leather Jacket', category: 'Outerwear' },
                            { name: 'Brown Chelsea Boots', category: 'Shoes' },
                            { name: 'Leather Bracelet', category: 'Accessory' }
                        ],
                        footnote: 'The forest green is universally flattering and perfect for evening.'
                    },
                    'casual weekend': {
                        title: 'Weekend Neutrals · Cream & Olive',
                        description: 'Relaxed earth tones that work together effortlessly.',
                        items: [
                            { name: 'Cream Premium T-Shirt', category: 'Top' },
                            { name: 'Olive Chino Pants', category: 'Bottoms' },
                            { name: 'White Canvas Sneakers', category: 'Shoes' },
                            { name: 'Navy Baseball Cap', category: 'Accessory' },
                            { name: 'Tan Canvas Tote', category: 'Bag' }
                        ],
                        footnote: 'Cream and olive create a soft, approachable contrast.'
                    },
                    'garden party': {
                        title: 'Garden Party · Sky & Sand',
                        description: 'Light, breathable colors perfect for daytime outdoor events.',
                        items: [
                            { name: 'Sky Blue Linen Shirt', category: 'Shirt' },
                            { name: 'Beige Chino Pants', category: 'Bottoms' },
                            { name: 'Tan Suede Loafers', category: 'Shoes' },
                            { name: 'Straw Fedora', category: 'Accessory' },
                            { name: 'Aviator Sunglasses', category: 'Accessory' }
                        ],
                        footnote: 'Linen in sky blue keeps you cool and looks effortlessly elegant.'
                    },
                    'workout': {
                        title: 'Active Edge · Charcoal & Neon',
                        description: 'Performance wear with modern color accents.',
                        items: [
                            { name: 'Charcoal Performance Tee', category: 'Top' },
                            { name: 'Black Training Shorts', category: 'Bottoms' },
                            { name: 'Neon Yellow Running Shoes', category: 'Shoes' },
                            { name: 'Black Sports Watch', category: 'Accessory' },
                            { name: 'Charcoal Gym Bag', category: 'Bag' }
                        ],
                        footnote: 'The neon accents add energy and visibility.'
                    },
                    'formal gala': {
                        title: 'Black Tie · Midnight & Silver',
                        description: 'Timeless elegance in classic formal colors.',
                        items: [
                            { name: 'Midnight Black Tuxedo', category: 'Suit' },
                            { name: 'White Pleated Shirt', category: 'Shirt' },
                            { name: 'Black Silk Bow Tie', category: 'Accessory' },
                            { name: 'Patent Leather Shoes', category: 'Shoes' },
                            { name: 'Silver Cufflinks', category: 'Accessory' }
                        ],
                        footnote: 'The silver cufflinks catch the light beautifully.'
                    }
                };
                
                // Female outfits with specific colors
                const femaleOutfits = {
                    'business meeting': {
                        title: 'Power Professional · Blush & Navy',
                        description: 'Feminine authority with a soft-strong color contrast.',
                        items: [
                            { name: 'Navy Tailored Blazer', category: 'Outerwear' },
                            { name: 'Blush Silk Blouse', category: 'Top' },
                            { name: 'Charcoal Pencil Skirt', category: 'Bottoms' },
                            { name: 'Nude Classic Pumps', category: 'Shoes' },
                            { name: 'Tan Structured Tote', category: 'Bag' }
                        ],
                        footnote: 'Blush softens the navy without losing professionalism.'
                    },
                    'date night': {
                        title: 'Romantic Allure · Burgundy & Rose',
                        description: 'Rich, romantic colors that captivate.',
                        items: [
                            { name: 'Burgundy Silk Slip Dress', category: 'Dress' },
                            { name: 'Black Cropped Leather Jacket', category: 'Outerwear' },
                            { name: 'Rose Gold Statement Earrings', category: 'Accessory' },
                            { name: 'Nude Strappy Heels', category: 'Shoes' },
                            { name: 'Burgundy Clutch', category: 'Bag' }
                        ],
                        footnote: 'Burgundy is the new black for evening romance.'
                    },
                    'casual weekend': {
                        title: 'Effortless Chic · Cream & Sage',
                        description: 'Soft, calming colors for relaxed weekends.',
                        items: [
                            { name: 'Cream Cashmere Sweater', category: 'Knitwear' },
                            { name: 'Sage Straight-Leg Jeans', category: 'Bottoms' },
                            { name: 'White Leather Sneakers', category: 'Shoes' },
                            { name: 'Natural Canvas Tote', category: 'Bag' },
                            { name: 'Gold Hoop Earrings', category: 'Accessory' }
                        ],
                        footnote: 'Sage green is trending and universally flattering.'
                    },
                    'garden party': {
                        title: 'Floral Grace · Lavender & Mint',
                        description: 'Fresh, garden-fresh colors that bloom.',
                        items: [
                            { name: 'Lavender Floral Midi Dress', category: 'Dress' },
                            { name: 'Natural Straw Sun Hat', category: 'Accessory' },
                            { name: 'Mint Woven Wedges', category: 'Shoes' },
                            { name: 'Woven Basket Bag', category: 'Bag' },
                            { name: 'Layered Gold Necklaces', category: 'Accessory' }
                        ],
                        footnote: 'Lavender and mint create a dreamy spring palette.'
                    },
                    'workout': {
                        title: 'Active Energy · Coral & Grey',
                        description: 'Vibrant energy meets cool comfort.',
                        items: [
                            { name: 'Coral Performance Leggings', category: 'Bottoms' },
                            { name: 'Grey Breathable Tank', category: 'Top' },
                            { name: 'White Lightweight Jacket', category: 'Outerwear' },
                            { name: 'Coral Running Shoes', category: 'Shoes' },
                            { name: 'Grey Athleisure Backpack', category: 'Bag' }
                        ],
                        footnote: 'Coral boosts mood and energy during workouts.'
                    },
                    'formal gala': {
                        title: 'Red Carpet · Emerald & Gold',
                        description: 'Jewel tones that command attention.',
                        items: [
                            { name: 'Emerald Floor-Length Gown', category: 'Dress' },
                            { name: 'Gold Crystal Clutch', category: 'Bag' },
                            { name: 'Emerald Statement Bracelet', category: 'Accessory' },
                            { name: 'Gold Evening Heels', category: 'Shoes' },
                            { name: 'Gold Silk Wrap', category: 'Accessory' }
                        ],
                        footnote: 'Emerald and gold is a winning combination for formal events.'
                    }
                };

                const outfits = selectedGender === 'male' ? maleOutfits : femaleOutfits;
                
                let key = 'business meeting';
                if (occasion.includes('business')) key = 'business meeting';
                else if (occasion.includes('date')) key = 'date night';
                else if (occasion.includes('casual')) key = 'casual weekend';
                else if (occasion.includes('garden')) key = 'garden party';
                else if (occasion.includes('workout')) key = 'workout';
                else if (occasion.includes('formal') || occasion.includes('gala')) key = 'formal gala';
                
                return outfits[key] || outfits['business meeting'];
            }

            // Display outfit with colors
            function displayOutfit(outfit) {
                outfitTitle.textContent = outfit.title;
                aiRecommendation.innerHTML = outfit.description;
                
                // Generate clothing grid with colors
                clothingGrid.innerHTML = outfit.items.map((item, index) => {
                    const bgColor = getColorForItem(item.name, index, selectedGender, weatherEl.value);
                    const textColor = isLightColor(bgColor) ? '#1a1c1e' : 'white';
                    
                    return `
                        <div class="clothing-item">
                            <div class="clothing-image" style="background-color: ${bgColor}; color: ${textColor};">
                                <i class="fas ${getIconForItem(item.name)}"></i>
                                <div class="color-indicator">${getColorName(bgColor)}</div>
                            </div>
                            <div class="clothing-name">${item.name}</div>
                            <div class="clothing-category">${item.category}</div>
                        </div>
                    `;
                }).join('');
                
                extraNote.innerHTML = `<i class="fas fa-lightbulb"></i> ${outfit.footnote}`;
                
                const vibes = selectedVibes.join(', ');
                const vibeArray = vibes.split(',').map(v => v.trim()).filter(v => v);
                vibeOutputTags.innerHTML = vibeArray.map(v => 
                    `<span class="vibe-tag"><i class="fas fa-tag"></i> ${v}</span>`
                ).join('');
                
                aiOutputContainer.style.display = 'block';
            }

            // Helper to determine if color is light (for text contrast)
            function isLightColor(color) {
                const hex = color.replace('#', '');
                const r = parseInt(hex.substr(0, 2), 16);
                const g = parseInt(hex.substr(2, 2), 16);
                const b = parseInt(hex.substr(4, 2), 16);
                const brightness = (r * 299 + g * 587 + b * 114) / 1000;
                return brightness > 128;
            }

            // Get color name from hex
            function getColorName(hex) {
                const colors = {
                    '#0a1928': 'navy',
                    '#36454F': 'charcoal',
                    '#1E1E1E': 'black',
                    '#808080': 'grey',
                    '#F5F5DC': 'beige',
                    '#FFFDD0': 'cream',
                    '#D2B48C': 'tan',
                    '#8B4513': 'brown',
                    '#556B2F': 'olive',
                    '#228B22': 'forest',
                    '#8A9A5B': 'moss',
                    '#B7410E': 'rust',
                    '#E2725B': 'terracotta',
                    '#C19A6B': 'camel',
                    '#4169E1': 'royal',
                    '#87CEEB': 'sky',
                    '#1560BD': 'denim',
                    '#800020': 'burgundy',
                    '#800000': 'maroon',
                    '#50C878': 'emerald',
                    '#673147': 'plum',
                    '#FADADD': 'blush',
                    '#E6E6FA': 'lavender',
                    '#E0B0FF': 'mauve',
                    '#BCB88A': 'sage',
                    '#FF7F50': 'coral',
                    '#FF007F': 'rose',
                    '#FF0000': 'red',
                    '#FFD700': 'gold',
                    '#FFFFFF': 'white'
                };
                return colors[hex] || 'custom';
            }

            // Generate button click
            generateBtn.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Show loading
                initialMessage.style.display = 'none';
                aiOutputContainer.style.display = 'none';
                loadingSpinner.style.display = 'flex';
                generateBtn.disabled = true;

                // Simulate delay
                setTimeout(() => {
                    const outfit = generateOutfit();
                    displayOutfit(outfit);
                    
                    loadingSpinner.style.display = 'none';
                    generateBtn.disabled = false;
                }, 1200);
            });
        })();
    </script>
</body>
</html>
